from Projet_Fin_Etude.CENUM.enumeration import *
from Projet_Fin_Etude.menu import *


# Add in each main back to the main menu option

def display_descriptions():
    while True:
        descriptions = {
            1: "Description for find_subdomains",
            2: "Description for find_ip_addresses",
            3: "Description for find_open_ports",
            4: "Description for search_osint",
            5: "Description for search_sensitive_data",
            6: "Description for search_sensitive_data_v2",
            7: "Description for search_term_shodan",
            8: "Back to the main menu",

        }
        for key, value in descriptions.items():
            print(key, "-", value)
        input_option = int(input("Enter 8 to get back to the main menu: "))
        if input_option == 8:
            break
        else:
            print(descriptions[input_option])


def display_menu():
    menu = '''
     \033[1m\033[32m
        █   █   █   █   █   █   █   █   █   █   █
         01010101010101010101010101010101010101010
        ╔═══════════════════════════════════════╗
        E   N   U   M   E   R   A   T   I   O   N
        ╚═══════════════════════════════════════╝
         01010101010101010101010101010101010101010
        █   █   █   █   █   █   █   █   █   █   █
     \033[0m
         ___________________________________________
        |             █   █   █  █                 |
        |         M E N U    O P T I O N S         |
        |             █   █   █  █                 |
        |      [1] - Service Enumeration           |
        |      [2] - Service Enumeration v2        |
        |      [3] - Service Detection             |
        |      [4] - Banner Grabbing               |
        |      [5] - Whois Lookup                  |
        |      [6] - HTTP Header Analysis          |
        |      [7] - IP Geolocation                |
        |      [8] - brief description options     | 
        |      [9] - back to main MENU             |
        |      [10] - Exit                         |
        |__________________________________________|

     '''
    print(menu)


if __name__ == '__main__':
    options = {
        1: service_enumeration,
        2: service_enumeration_nmap,
        3: service_detection,
        4: banner_grap,
        5: whois_lookup,
        6: http_header_analysis,
        7: ip_geolocation,
        8: display_descriptions,
        9: agreement_warning
    }
    while True:
        display_menu()
        option = int(input("Enter your choice :"))
        if option == 10:
            exit()
        if option == 8:
            display_descriptions()
            continue
        if option in options:
            outputs = options[option]()
        # save_ouput_html_format(outputs)
        else:
            print("Please enter the right choice.")

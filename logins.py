import csv
import prettytable


def GetAllCreds():
    # Créé un objet prettytable.PrettyTable()
    table = prettytable.PrettyTable()
    with open('files/credentials.csv', 'r') as f:
        # Créé un lecteur de CSV
        reader = csv.reader(f)
        # Récupère les en-têtes de colonne du fichier CSV
        headers = next(reader)
        # Défini les en-têtes de colonne de la table
        table.field_names = headers
        for row in reader:
            # Ajoute chaque ligne à la table
            table.add_row(row)
    print(table)


def SearchCreds():
    productName = input("Quel Vendeur cherchez vous ? : ")
    # Créé un objet prettytable.PrettyTable()
    table = prettytable.PrettyTable()
    with open('files/credentials.csv', 'r') as f:
        # Créé un lecteur de CSV
        reader = csv.reader(f)
        # Récupère les en-têtes de colonne du fichier CSV
        headers = next(reader)
        # Défini les en-têtes de colonne de la table
        table.field_names = headers
        for row in reader:
            if productName.upper() in str(row).upper():
                # Ajoute chaque ligne à la table
                table.add_row(row)
    print(table)


def main():
    SearchCreds()


if __name__ == '__main__':
    main()

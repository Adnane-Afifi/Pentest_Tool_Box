from Projet_Fin_Etude.COSINT.SimpleOsintModule2 import *
from Projet_Fin_Etude.menu import *


def display_descriptions():
    while True:
        descriptions = {
            1: "Description for find_subdomains",
            2: "Description for find_ip_addresses",
            3: "Description for find_open_ports",
            4: "Description for search_osint",
            5: "Description for search_sensitive_data",
            6: "Back to the main menu"
        }
        for key, value in descriptions.items():
            print(key, "-", value)
        input_option = int(input("Enter 6 to get back to the main menu: "))
        if input_option == 6:
            break
        else:
            print(descriptions[input_option])


def display_banner():
    banner = '''
     \033[1m\033[32m
        █   █   █   █   █   █   █   █   █   █   █
        01010101010101010101010101010101010101010
        ╔═══════════════════════════════════════╗
                    O   S   I   N   T
        ╚═══════════════════════════════════════╝
        01010101010101010101010101010101010101010
        █   █   █   █   █   █   █   █   █   █   █
     \033[0m
         ___________________________________________
        |             █   █   █  █                 |
        |         M E N U    O P T I O N S         |
        |             █   █   █  █                 |
        |      [1] - Link extractor                |
        |      [2] - Phones extractor              |
        |      [3] - Advanced extraction           |
        |      [4] - Advanced_V2 osint             |
        |      [5] - descriptions options          |
        |      [6] - back to main MENU             |   
        |      [7] - Exit                          |
        |__________________________________________|

     '''
    print(banner)


if __name__ == '__main__':
    options = {
        1: extract_urls,
        2: extract_phone_numbers,
        3: advanced_extracts_url,
        4: extract_advanced_information,
        6: agreement_warning
    }
    while True:
        display_banner()
        option = int(input("Enter your choice :"))
        if option == 7:
            exit()
        if option == 5:
            display_descriptions()
            continue
        # c_object = input("Please enter a domainName/IP address: ")
        if option in options:
            outputs = options[option]()
        # advanced_extracts_url(c_object)
        try:
            print("Saving results...")
            save_ouput_html_format(outputs)
        except:
            print("Error while saving results")
        else:
            print("Please enter the right choice.")
